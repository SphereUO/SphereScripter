{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Sphere Script",
  "fileTypes": ["scp"],
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#headers"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#keywords"
    }
  ],
  "repository": {
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.scp",
          "match": "\\b(?i:DORAND|DOSWITCH|ELSE|ELSIF|ELSEIF|ENDIF|ENDDO|ENDWHILE|IF|WHILE|RETURN|BEGIN|END|FOR|ENDFOR|FORCHARLAYER|FORCHARMEMORYTYPE|FORCHARS|FORCLIENTS|FORPLAYERS|FORCONT|FORCONTID|FORCONTTYPE|FORISTANCES|FORITEMS|FOROBJS|TRY|TRYP|TRYSRC|TRYSRV|GO)\\b"
        },
        {
          "name": "entity.name.type.scp",
          "match": "\\b(?i:ACT|ARG|ARGCHK|ARGN|ARGS|ARGO|ARGV|ARGVCOUNT|ARGTXT|LASTNEW|LASTNEWCHAR|LINK|QTAG|SERV|NEW|SRC|TAG|TARG|THIS|TOPOBJ|REGION|ACCOUNT|TRIGGER|VAR|VAR0|TAG0|CONT)\\b"
        },
        {
          "name": "variable.name.scp",
          "match": "\\b(?i:SECTOR|ACTION|ADDTIMER|ADVRATE|AMOUNT|ANIM|ARMOR|ATTR|AVERSIONS|BASEID|BLOODCOLOR|BODY|CAN|CAN_PILE|CHAR|COLOR|CREATE|SELL|BUY|CONT|DAM|DEF|DEFNAME|CALCMEMBERINDEX|DESIRES|DEX|DISPID|FAME|FINDLAYER|FINDMEMORY|FINDTYPE|FLAGS|FLIP|DUPELIST|DUPEITEM|FOOD|FOODTYPE|HASTIMER|HITS|HITPOINTS|ICON|ID|INT|INTELLIGENCE|ITEM|ITEMNEWBIE|KARMA|KEY|LAYER|MAXFOOD|OBODY|OSKIN|MANA|MAXHITS|MAXMANA|MAXSTAM|MEMORYFINDTYPE|MORE|MORE1|MORE2|MOREP|MOREX|MOREY|MOREZ|MOREM|MORE1L|MORE1H|MORE2L|MORE2H|MOVERATE|RESLEVEL|RESDISPDNID|RESDISPDNHUE|NAME|NPC|P|RAINCHANCE|RECT|REMOVETIMER|RESOURCES|RESOURCES2|RESMAKE|SERIAL|SHELTER|SKILLMAKE|SKILLSUM|STAM|STAMINA|STATSUM|STR|STRENGTH|STRLEN|STRMATCH|TDATA1|TDATA2|TDATA3|TDATA4|TEVENTS|TIMER|TIMERD|TITLE|TSPEECH|TYPE|UID|VALUE|WEIGHT|REPAIR|SPEED|TWOHANDS|COMPONENT|CATEGORY|SUBSECTION|DESCRIPTION|MULTIREGION|ALCHEMY|ANATOMY|ANIMALLORE|ITEMID|ARMSLORE|ARMSLORE|BEGGING|BLACKSMITHING|BOWCRAFT|PEACEMAKING|CAMPING|CARPENTRY|CARTOGRAPHY|COOKING|DETECTINGHIDDEN|ENTICEMENT|EVALUATINGINTEL|HEALING|FISHING|FORENSICS|HERDING|HIDING|PROVOCATION|INSCRIPTION|LOCKPICKING|MAGERY|TACTICS|SNOOPING|MUSICIANSHIP|POISONING|ARCHERY|SPIRITSPEAK|STEALING|TAILORING|TAMING|TASTEID|TINKERING|TRACKING|VETERINARY|SWORDSMANSHIP|MACEFIGHTING|FENCING|WRESTLING|LUMBERJACKING|MINING|MEDITATION|STEALTH|REMOVETRAP|NECROMANCY|MAGICRESISTANCE|PARRYING|CAST_TIME|DURATION|EFFECT|EFFECT_ID|GROUP|INTERRUPT|MANAUSE|PROMPT_MSG|RUNE_ITEM|RUNES|SCROLL_ITEM|SKILLREQ|SOUND)\\b"
        },
        {
          "name": "emphasis.scp",
          "match": "\\b(?i:ALLCHARS|DB|FILE|SEX|ADDTRIGGERGROUP|ISEVENT|ALLSKILLS|ATTACK|BOUNCE|CANSEELOS|CHAREXISTS|CHECKBOX|CHECKSUCCESS|CLASSMESSAGE|CONSUME|CREATE|DAMAGE|DELAYSKILLSTROKE|FINDID|DIALOG|DISMOUNT|DISTANCEFROM|DUPE|EMOTE|UNEQUIP|EQUIP|DROP|EVAL|EVENTS|FINDRES|FINDUID|FIX|FONT|GM|GO|INVUL|ISCHAR|ISCHARDEF|ISDEAD|ISGM|ISITEM|ISITEMDEF|ITEMEXISTS|MAKEITEM|MESSAGE|MOUNT|NEWEQUIP|NEWEQUIPSAFE|LOG|MAP|NEWDUPE|NEWITEM|NEWITEMSAFE|NEWNPC|NEWSUMMON|NPCEXISTS|NUKE|PLAYEREXISTS|PROFESSION|RAND|REDMESSAGE|REDUCERESIST|RESURRECT|RETURN|REMOVE|REMOVETRIGGERGROUP|RESCOUNT|RESTEST|SAFE|FLEE|SAY|SAYU|SAYUA|SETTEXT|SKILL|SPEAK|SPEAKU|SKILLCHECK|SPELLEFFECT|SRCCANSEELOS|STOPMAGERY|STRCMPI|SUICIDE|SYSMESSAGE|TARGET|TRIGGER_FAIL|TRIGGER_START|TRIGGER_SUCCESS|UPDATE|USE|GUMPS|BUTTON|buttontileart|TILEPIC|CHECKERTRANS|LASTTEXTLINE|DIALOGCLOSE|DIALOG_BUTTONPOS|DIALOG_BUTTONPOS_NEAR|DIALOG_FORCEPAGE|DIALOG_LINKBUTTON|DIALOG_NEWPAGE|DIALOG_PAGE|DIALOG_TEXTPOS|GUMPPIC|HTMLGUMP|NEWHTMLGUMP|LASTTEXTLINE|NEWTEXTLINE|NOCLOSE|NOMOVE|QUESTDIALOG_ADDRESPONSE|QUESTDIALOG_BASEBUTT|QUESTDIALOG_CREATE|QUESTDIALOG_HTMLGUMP|PAGE|RESIZEPIC|SETLOCATION|TEXT|TEXTA|TEXTENTRY|NEWTEXTENTRY|FINDLAYER|FINDCONT|FINDID|FINDTYPE|EXPLODE|STRARG|STREAT|STRCMP|STRCMPI|STRLEN|STRPOS|STRREVERSE|STRSUB|STRTOLOWER|STRTOUPPER|STRTRIM|STRMATCH|STRREGEX|croppedtext|dcroppedtext|dorigin|dhtmlgump|dtext|dtextentry|dtextentrylimited|gumppictiled|nodispose|tilepichue|tooltip|xmfhtmlgump|xmfhtmlgumpcolor|xmfhtmltok)\\b",
          "captures": {
            "0": { "name": "entity.name.function.scp" }
          }
        },
        {
          "name": "emphasis.scp",
          "match": "^s*(?i:RADIO)",
          "captures": {
            "0": { "name": "entity.name.function.scp" }
          }
        },
        {
          "name": "emphasis.scp",
          "match": "(?i)\\bON=@\\w+\\b[^\\s/]*",
          "captures": {
            "0": { "name": "entity.name.function.scp" }
          }
        },
        {
          "name": "keyword.operator.new.scp",
          "match": "\\+|\\-|\\*|\\/|=|!=|<|>|\\&|\\||%|\\^"
        },
        {
          "name": "constant.numeric.scp",
          "match": "\\b(#?|[0-9])([0-9]|[a-f]|[A-F])+\\b"
        },
        {
          "name": "emphasis.scp",
          "match": "\\b(?i:BRAIN_NONE|BRAIN_ANIMAL|BRAIN_HUMAN|BRAIN_HEALER|BRAIN_GUARD|BRAIN_BANKER|BRAIN_VENDOR|BRAIN_ANIMAL_TRAINER|BRAIN_MONSTER|BRAIN_BERSERK|BRAIN_DRAGON|MT_MALE|MT_GHOST|MT_SWIM|MT_WALK|MT_PASSWALLS|MT_FLY|MT_FIRE_IMMUNE|MT_NOINDOORS|MT_HOVER|MT_EQUIP|MT_USEHANDS|MT_MOUNT|MT_FEMALE|MT_NONHUM|MT_RUN|mt_nodclicklos|MT_NODCLICKDIST|mt_nonmover|attr_identified|attr_decay|attr_newbie|attr_move_always|attr_move_never|attr_magic|attr_owned|attr_invis|attr_cursed|attr_blessed|attr_static|attr_exceptional|attr_enchanted|attr_imbued|attr_questitem|attr_insured|attr_nodroptrade|attr_norepair|attr_lockeddown|attr_secure|attr_reforged|attr_opened|dam_god|dam_physical|dam_magic|dam_poison|dam_fire|dam_energy|dam_general|dam_acidic|dam_cold|dam_slash|dam_pierce|dam_nodisturb|dam_noreveal|dam_nounparalyze|dam_fixed|dam_drain|CAN_I_DOOR|CAN_I_WATER|CAN_I_PLATFORM|CAN_I_BLOCK|CAN_I_CLIMB|CAN_I_FIRE|CAN_I_ROOF|CAN_I_PILE|CAN_I_DYE|CAN_I_FLIP|CAN_I_LIGHT|CAN_I_REPAIR|CAN_I_REPLICATE|CAN_I_DCIGNORELOS|CAN_I_DCIGNOREDIST|CAN_I_BLOCKLOS|can_i_exceptional|can_i_makersmark|can_i_retaincolor|can_i_enchant|can_i_imbue|can_i_recycle|can_i_reforge|can_i_forcedc|can_i_damageable)\\b",
          "captures": {
            "0": { "name": "constant.numeric.scp" }
          }
        },
        {
          "name": "invalid.scp",
          "match": "\\b(?i:BRAIN_BEGGAR|BRAIN_THIEF|BRAIN_UNDEAD|BRAIN_VENDOR_OFFDUTY|BRAIN_TOWNCRIER|BRAIN_BESERK|mt_indoors|dam_lightning|attr_cursed2|attr_blessed2|attr_forsale|attr_stolen|attr_can_decay|dam_cold_old|dam_cold_new|dam_drain)\\b"
        }
      ]
    },
    "strings": {
      "name": "string.quoted.double.scp",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        {
          "name": "constant.numeric.scp",
          "match": "<|>|\\(|\\)"
        },
        {
          "name": "constant.character.scp",
          "match": "\\\\."
        }
      ]
    },
    "comments": {
      "begin": "//",
      "end": "$",
      "name": "comment.line.scp",
      "patterns": [
        {
          "name": "comment.line.double-slash.scp",
          "match": "\\\\."
        }
      ]
    },
    "headers": {
      "begin": "\\[",
      "end": "\\]",
      "contentName": "meta.preprocessor.scp",
      "patterns": [
        {
          "name": "meta.preprocessor.scp",
          "match": "\\b(?i:function|chardef|itemdef|multidef|events|DEFNAME|DEFMESSAGE|defnames|dialog|typedef|speech|template|menu|eof|RESOURCES|OBSCENE|NOTOTITLES|PLEVEL|AREADEF|SCROLL|TIP|BOOK|NEWBIE|SPAWN|SPELL)\\b"
        }
      ]
    }
  },
  "scopeName": "source.sphere"
}
